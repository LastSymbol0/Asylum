(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{159:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));var r=n(1),a=n.n(r),c=n(4),i=n(27),s=new(n(11).PublicKey)("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),u=function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.d.PublicKey.findProgramAddress([e.from("metadata"),s.toBuffer(),n.toBuffer()],s);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.d.PublicKey.findProgramAddress([e.from("metadata"),s.toBuffer(),n.toBuffer(),e.from("edition")],s);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Math.floor(r/248),t.next=3,i.d.PublicKey.findProgramAddress([e.from("metadata"),s.toBuffer(),n.toBuffer(),e.from("edition"),e.from(c.toString())],s);case 3:return t.abrupt("return",t.sent[0]);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}).call(this,n(9).Buffer)},305:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"findAchievementsAccountAddress",(function(){return o})),n.d(t,"findGamesCatalogAccountAddress",(function(){return l})),n.d(t,"initAsylumAccounts",(function(){return p})),n.d(t,"initAchievementsAccount",(function(){return d})),n.d(t,"addAchievement",(function(){return m})),n.d(t,"initGamesCatalogAccount",(function(){return f})),n.d(t,"addGameToCatalog",(function(){return b}));var r=n(10),a=n(1),c=n.n(a),i=n(4),s=n(11),u=n(27),o=function(t){return s.PublicKey.findProgramAddress([e.from("Achievements")],t)},l=function(t){return s.PublicKey.findProgramAddress([e.from("GamesCatalog")],t)},p=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([d(t),f(t)]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a,i,s,l,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.provider.wallet.publicKey,a=t.programId,e.next=4,o(a);case 4:return i=e.sent,s=Object(r.a)(i,2),l=s[0],p=s[1],e.next=10,t.rpc.initializeAchievements(p,{accounts:{achievementsAccount:l,user:n,systemProgram:u.d.SystemProgram.programId}});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a,i){var s,u,l,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.programId,e.next=3,o(s);case 3:return u=e.sent,l=Object(r.a)(u,2),p=l[0],l[1],e.next=9,t.rpc.addAchievement(n,a,i,{accounts:{achievementsAccount:p}});case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a,i,s,o,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.provider.wallet.publicKey,a=t.programId,e.next=4,l(a);case 4:return i=e.sent,s=Object(r.a)(i,2),o=s[0],p=s[1],e.next=10,t.rpc.initializeGamesCatalog(p,{accounts:{gamesCatalogAccount:o,user:n,systemProgram:u.d.SystemProgram.programId}});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var a,i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.programId,e.next=3,o(a);case 3:return i=e.sent,s=Object(r.a)(i,2),u=s[0],s[1],e.next=9,t.rpc.addGameToCatalog(n,{accounts:{gamesCatalogAccount:u}});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}.call(this,n(9).Buffer)},327:function(e,t,n){},328:function(e,t,n){},329:function(e,t){},331:function(e,t){},347:function(e,t){},348:function(e,t){},408:function(e,t){},410:function(e,t){},424:function(e,t){},429:function(e,t){},431:function(e,t){},441:function(e,t){},443:function(e,t){},470:function(e,t){},472:function(e,t){},477:function(e,t){},479:function(e,t){},486:function(e,t){},498:function(e,t){},501:function(e,t){},512:function(e,t){},544:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"findPlayerGlobalAccountAddress",(function(){return I})),n.d(r,"findPlayerGameAccountAddress",(function(){return B})),n.d(r,"initPlayer",(function(){return z})),n.d(r,"updatePlayerNickname",(function(){return N})),n.d(r,"updatePlayerAvatar",(function(){return E})),n.d(r,"addGameToLibrary",(function(){return L})),n.d(r,"removeGameFromLibrary",(function(){return R})),n.d(r,"addAchievement",(function(){return D})),n.d(r,"addExp",(function(){return q}));var a=n(2),c=n.n(a),i=n(105),s=n.n(i),u=(n(327),n(328),n(316)),o=n(35),l=n(81),p=n(32),d=n(156),m=n(566),f=n(564),b=n(568),h=n(6),j=function(e){var t=e.pages,n=Object(p.f)(t.map((function(e){return e.path}))),r=null===n||void 0===n?void 0:n.path;return Object(h.jsx)(f.a,{orientation:"vertical",variant:"fullWidth",value:r,children:t.map((function(e,t){return Object(h.jsx)("div",{style:{marginTop:"20px"},children:Object(h.jsx)(b.a,{label:e.name,value:e.path,to:e.path,component:d.b})})}))})},v=function(){return Object(h.jsx)("div",{children:"GamesStore page placeholder"})},y=n(11),g=n(157),x=n(1),O=n.n(x),w=n(4),A=n(45),k=n(314),S=n.n(k),P=n(159),C=Object(A.b)("users/fetchByIdStatus",function(){var e=Object(w.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("http://api.mainnet-beta.solana.com",{jsonrpc:"2.0",id:1,method:"getProgramAccounts",params:["TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",{encoding:"jsonParsed",filters:[{dataSize:165},{memcmp:{offset:32,bytes:t.toString()}}]}]});case 2:n=e.sent,console.log("user tokens",n),n.data.result,new y.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r=new y.PublicKey("Brznjf93yY6gfVrvB2UeXJKA2Amu417Mxzx6jbrtFvvu"),console.log("hey,"),console.log(r.toString()),Object(P.a)(r,1).then((function(e){return console.log("1, ",e.toString())})),Object(P.b)(r).then((function(e){return console.log("2, ",e.toString())})),Object(P.c)(r).then((function(e){return console.log("3",e.toString())}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),K=n(10),G=n(67),M=n(73),T=n(27),I=function(e,t){return y.PublicKey.findProgramAddress([e.toBuffer()],t)},B=function(e,t,n){return y.PublicKey.findProgramAddress([e.toBuffer(),t.toBuffer()],n)},z=function(){var e=Object(w.a)(O.a.mark((function e(t){var n,r,a,c,i,s,u,o,l=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"CryptoBuddy77",r=l.length>2&&void 0!==l[2]?l[2]:y.PublicKey.default,a=t.provider.wallet.publicKey,c=t.programId,e.next=6,I(a,c);case 6:return i=e.sent,s=Object(K.a)(i,2),u=s[0],o=s[1],e.next=12,t.rpc.initialize(o,n,r,{accounts:{playerAccount:u,user:a,systemProgram:T.d.SystemProgram.programId}});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(w.a)(O.a.mark((function e(t,n){var r,a,c,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.provider.wallet.publicKey,a=t.programId,e.next=4,I(r,a);case 4:return c=e.sent,i=Object(K.a)(c,2),s=i[0],i[1],e.next=10,t.rpc.updateNickname(n,{accounts:{playerAccount:s}});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(w.a)(O.a.mark((function e(t,n){var r,a,c,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.provider.wallet.publicKey,a=t.programId,e.next=4,I(r,a);case 4:return c=e.sent,i=Object(K.a)(c,2),s=i[0],i[1],e.next=10,t.rpc.updateAvatar(n,{accounts:{playerAccount:s}});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(w.a)(O.a.mark((function e(t,n){var r,a,c,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.provider.wallet.publicKey,a=t.programId,e.next=4,I(r,a);case 4:return c=e.sent,i=Object(K.a)(c,2),s=i[0],i[1],e.next=10,t.rpc.addGame(n,{accounts:{playerAccount:s}});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(w.a)(O.a.mark((function e(t,n){var r,a,c,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.provider.wallet.publicKey,a=t.programId,e.next=4,I(r,a);case 4:return c=e.sent,i=Object(K.a)(c,2),s=i[0],i[1],e.next=10,t.rpc.removeGame(n,{accounts:{playerAccount:s}});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(w.a)(O.a.mark((function e(t,n){var r,a,c,i,s,u,o=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:0,a=t.provider.wallet.publicKey,c=t.programId,e.next=5,I(a,c);case 5:return i=e.sent,s=Object(K.a)(i,2),u=s[0],s[1],e.next=11,t.rpc.addAchievement(n,r,{accounts:{playerAccount:u}});case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=Object(w.a)(O.a.mark((function e(t,n){var r,a,c,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.provider.wallet.publicKey,a=t.programId,e.next=4,I(r,a);case 4:return c=e.sent,i=Object(K.a)(c,2),s=i[0],i[1],e.next=10,t.rpc.addExp(n,{accounts:{playerAccount:s}});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=n(305),F=new y.PublicKey(G.metadata.address),Q=new y.PublicKey(M.metadata.address);var W=function(){var e=Object(a.useState)(!1),t=Object(K.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),s=Object(K.a)(i,2),u=s[0],p=s[1],d=Object(a.useState)(""),m=Object(K.a)(d,2),f=m[0],b=m[1],j=Object(a.useState)(y.PublicKey.default),v=Object(K.a)(j,2),g=v[0],x=v[1],A=Object(a.useState)([]),k=Object(K.a)(A,2),S=k[0],P=k[1],C=Object(a.useState)([]),I=Object(K.a)(C,2),B=I[0],z=I[1],N=Object(a.useState)(0),E=Object(K.a)(N,2),L=E[0],R=E[1],D=Object(a.useState)(0),q=Object(K.a)(D,2),W=q[0],V=q[1],X=Object(a.useState)([]),Y=Object(K.a)(X,2),H=Y[0],U=Y[1],Z=Object(a.useState)(""),$=Object(K.a)(Z,2),_=$[0],ee=$[1],te=Object(a.useState)(""),ne=Object(K.a)(te,2),re=ne[0],ae=ne[1],ce=Object(a.useState)(""),ie=Object(K.a)(ce,2),se=ie[0],ue=ie[1],oe=Object(a.useState)(""),le=Object(K.a)(oe,2),pe=le[0],de=le[1],me=Object(a.useState)(0),fe=Object(K.a)(me,2),be=fe[0],he=fe[1],je=Object(a.useState)(0),ve=Object(K.a)(je,2),ye=ve[0],ge=ve[1],xe=Object(o.c)();function Oe(){return we.apply(this,arguments)}function we(){return(we=Object(w.a)(O.a.mark((function e(){var t,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.devnet.solana.com",t={preflightCommitment:"processed"},n=new y.Connection("https://api.devnet.solana.com",t.preflightCommitment),r=new T.b(n,xe,t.preflightCommitment),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(){return ke.apply(this,arguments)}function ke(){return(ke=Object(w.a)(O.a.mark((function e(){var t,n,r,a,c,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:return t=e.sent,n=new T.a(M,Q,t),e.prev=4,e.next=7,J.findAchievementsAccountAddress(Q);case 7:return r=e.sent,a=Object(K.a)(r,2),c=a[0],a[1],e.next=13,n.account.achievementsAccount.fetch(c);case 13:i=e.sent,console.log(i),p(!0),U(i.achievements),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),console.log("Achievements data fetching error: ",e.t0);case 22:case"end":return e.stop()}}),e,null,[[4,19]])})))).apply(this,arguments)}function Se(){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(w.a)(O.a.mark((function e(){var t,n,a,i,s,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:return t=e.sent,n=new T.a(G,F,t),e.prev=4,e.next=7,r.findPlayerGlobalAccountAddress(xe.publicKey,F);case 7:return a=e.sent,i=Object(K.a)(a,2),s=i[0],i[1],e.next=13,n.account.playerAccount.fetch(s);case 13:u=e.sent,console.log(u),c(!0),b(u.nickname.toString()),x(u.avatar.toString()),P(u.games),z(u.achievements),R(u.exp),V(u.level),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(4),console.log("Player data fetching error: ",e.t0);case 27:case"end":return e.stop()}}),e,null,[[4,24]])})))).apply(this,arguments)}function Ce(){return(Ce=Object(w.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:return t=e.sent,n=new T.a(G,F,t),e.prev=4,console.log(n),e.next=8,r.initPlayer(n);case 8:c(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log("Transaction error: ",e.t0);case 14:Se();case 15:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}function Ke(){return(Ke=Object(w.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:return t=e.sent,n=new T.a(M,Q,t),e.prev=4,console.log(n),e.next=8,J.initAsylumAccounts(n);case 8:p(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log("Transaction error: ",e.t0);case 14:Ae();case 15:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}function Ge(){return(Ge=Object(w.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:return t=e.sent,n=new T.a(G,F,t),e.prev=4,e.next=7,r.updatePlayerNickname(n,_);case 7:ee(""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log("Transaction error: ",e.t0);case 13:Se();case 14:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}function Me(){return(Me=Object(w.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:return t=e.sent,n=new T.a(G,F,t),e.prev=4,e.next=7,r.updatePlayerAvatar(n,new y.PublicKey(re));case 7:ae(""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log("Transaction error: ",e.t0);case 13:Se();case 14:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}function Te(){return(Te=Object(w.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:return t=e.sent,n=new T.a(G,F,t),e.prev=4,e.next=7,r.addGameToLibrary(n,new y.PublicKey(se));case 7:ue(""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log("Transaction error: ",e.t0);case 13:Se();case 14:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}function Ie(){return(Ie=Object(w.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:return t=e.sent,n=new T.a(G,F,t),e.prev=4,e.next=7,r.removeGameFromLibrary(n,new y.PublicKey(se));case 7:ue(""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log("Transaction error: ",e.t0);case 13:Se();case 14:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}function Be(){return(Be=Object(w.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:return t=e.sent,n=new T.a(G,F,t),e.prev=4,e.next=7,r.addAchievement(n,pe,be);case 7:de(""),he(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log("Transaction error: ",e.t0);case 14:Se();case 15:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}function ze(){return(ze=Object(w.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:return t=e.sent,n=new T.a(G,F,t),e.prev=4,e.next=7,r.addExp(n,ye);case 7:ge(""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log("Transaction error: ",e.t0);case 13:Se();case 14:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){if(xe.connected){try{Ae()}catch(e){u&&console.error(e)}try{Se()}catch(e){n&&console.error(e)}}}),[xe.connected]),xe.connected?Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)("div",{children:[!u&&Object(h.jsx)("button",{onClick:function(){return Ke.apply(this,arguments)},children:"Initialize global"}),u&&!n&&Object(h.jsx)("button",{onClick:function(){return Ce.apply(this,arguments)},children:"Initialize"}),u&&n?Object(h.jsxs)("div",{style:{width:"fit-content",margin:"0 auto",textAlign:"left"},children:[Object(h.jsx)("h1",{children:"Current player account state"}),Object(h.jsx)("h3",{children:"Current nickname: "}),f,Object(h.jsx)("h3",{children:"Current avatar: "}),g.toString(),Object(h.jsx)("h3",{children:"Current games: "}),S&&0!==S.length?Object(h.jsx)("ul",{children:S.map((function(e,t){return Object(h.jsx)("li",{children:e.toString()},t)}))}):"No games so far",Object(h.jsx)("h3",{children:"Achievements: "}),B&&0!==B.length?Object(h.jsx)("ul",{children:B.map((function(e,t){var n=H.find((function(e){return e.id===t})),r=n?"".concat(n.label," - ").concat(n.description," | Game: ").concat(n.game.toString()):"id: ".concat(e);return Object(h.jsx)("li",{children:r},t)}))}):"No achievements so far",Object(h.jsx)("h3",{children:"Current level: "}),W,Object(h.jsx)("h3",{children:"Current exp: "}),L,Object(h.jsx)("h1",{style:{marginTop:60},children:"Edit"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{style:{width:200},placeholder:"New nickname (string, 32 bytes)",onChange:function(e){return ee(e.target.value)},value:_}),Object(h.jsx)("button",{onClick:function(){return Ge.apply(this,arguments)},children:"Set nickname"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{style:{width:200},placeholder:"New avatar (any Public key)",onChange:function(e){return ae(e.target.value)},value:re}),Object(h.jsx)("button",{onClick:function(){return Me.apply(this,arguments)},children:"Set avatar"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{style:{width:200},placeholder:"Game id (any Public key)",onChange:function(e){return ue(e.target.value)},value:se}),Object(h.jsx)("button",{onClick:function(){return Te.apply(this,arguments)},children:"Add game"}),Object(h.jsx)("button",{onClick:function(){return Ie.apply(this,arguments)},children:"Remove game"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{style:{width:200},placeholder:"Achievement id (u16)",onChange:function(e){return de(e.target.value)},value:pe}),Object(h.jsx)("input",{style:{width:200},placeholder:"Exp to add (optional) (u32)",onChange:function(e){return he(e.target.value)},value:be}),Object(h.jsx)("button",{onClick:function(){return Be.apply(this,arguments)},children:"Add achievement"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{style:{width:200},placeholder:"Exp to add (u32)",onChange:function(e){return ge(e.target.value)},value:ye}),Object(h.jsx)("button",{onClick:function(){return ze.apply(this,arguments)},children:"Add exp"})]})]}):Object(h.jsx)("h3",{children:"Please inialize your account."})]})}):Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"100px"},children:Object(h.jsx)(l.b,{})})},V=new y.PublicKey(M.metadata.address);var X=function(){var e=Object(a.useState)(!1),t=Object(K.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),i=Object(K.a)(c,2),s=i[0],u=i[1],p=Object(a.useState)(""),d=Object(K.a)(p,2),m=d[0],f=d[1],b=Object(a.useState)(""),j=Object(K.a)(b,2),v=j[0],g=j[1],x=Object(a.useState)(""),A=Object(K.a)(x,2),k=A[0],S=A[1],P=Object(o.c)();function C(){return G.apply(this,arguments)}function G(){return(G=Object(w.a)(O.a.mark((function e(){var t,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.devnet.solana.com",t={preflightCommitment:"processed"},n=new y.Connection("https://api.devnet.solana.com",t.preflightCommitment),r=new T.b(n,P,t.preflightCommitment),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return B.apply(this,arguments)}function B(){return(B=Object(w.a)(O.a.mark((function e(){var t,n,a,c,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:return t=e.sent,n=new T.a(M,V,t),e.prev=4,e.next=7,J.findAchievementsAccountAddress(V);case 7:return a=e.sent,c=Object(K.a)(a,2),i=c[0],c[1],e.next=13,n.account.achievementsAccount.fetch(i);case 13:s=e.sent,console.log(s),r(!0),u(s.achievements),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),console.log("Achievements data fetching error: ",e.t0);case 22:case"end":return e.stop()}}),e,null,[[4,19]])})))).apply(this,arguments)}function z(){return(z=Object(w.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:return t=e.sent,n=new T.a(M,V,t),e.prev=4,console.log(n),e.next=8,J.initAsylumAccounts(n);case 8:r(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log("Transaction error: ",e.t0);case 14:I();case 15:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}function N(){return(N=Object(w.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:return t=e.sent,n=new T.a(M,V,t),e.prev=4,e.next=7,J.addAchievement(n,m,v,new y.PublicKey(k));case 7:f(""),g(""),S(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log("Transaction error: ",e.t0);case 15:I();case 16:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){if(P.connected)try{I()}catch(e){n&&console.error(e)}}),[P.connected]),P.connected?Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)("div",{children:[!n&&Object(h.jsx)("button",{onClick:function(){return z.apply(this,arguments)},children:"Initialize global"}),n?Object(h.jsxs)("div",{style:{width:"fit-content",margin:"0 auto",textAlign:"left"},children:[Object(h.jsx)("h3",{children:"Achievements: "}),s&&0!==s.length?Object(h.jsx)("ul",{children:s.map((function(e,t){return Object(h.jsx)("li",{children:"".concat(e.label," - ").concat(e.description," | Game: ").concat(e.game.toString())},t)}))}):"No achievements so far",Object(h.jsx)("h1",{style:{marginTop:60},children:"Edit"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{style:{width:200},placeholder:"Achievement label (String 32)",onChange:function(e){return f(e.target.value)},value:m}),Object(h.jsx)("input",{style:{width:200},placeholder:"Achievement description (String 64)",onChange:function(e){return g(e.target.value)},value:v}),Object(h.jsx)("input",{style:{width:200},placeholder:"Game id (any Public key)",onChange:function(e){return S(e.target.value)},value:k}),Object(h.jsx)("button",{onClick:function(){return N.apply(this,arguments)},children:"Add achievement"})]})]}):Object(h.jsx)("h3",{children:"Please inialize your account."})]})}):Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"100px"},children:Object(h.jsx)(l.b,{})})},Y=[{path:"/",name:"Home",component:v},{path:"/account",name:"Account",component:function(){return Object(h.jsx)("div",{children:"Account page placeholder"})}},{path:"/gamesStore",name:"Games Store",component:v},{path:"/inventory",name:"Inventory",component:function(){var e,t=Object(o.c)();return Object(g.b)()(C(null!==(e=t.publicKey)&&void 0!==e?e:new y.PublicKey(""))),Object(h.jsx)("div",{children:"Inventory page placeholder"})}},{path:"/library",name:"Library",component:function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{children:"Library page placeholder"})})}},{path:"/marketplace",name:"Marketplace",component:function(){return Object(h.jsx)("div",{children:"Marketplace page placeholder"})}},{path:"/demo1",name:"[DEV] Demo 1 (Players)",component:W},{path:"/demo2",name:"[DEV] Demo 2 (Achievements; admin)",component:X},{path:"/demo3",name:"[DEV] Demo 3 (Game)",component:function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("iframe",{src:"https://lastsymbol0.github.io/Asylum_AnywayLose/",height:"800px",width:"1400px"})})}}],H=[Object(u.a)()],U=function(e){var t=e.pages;return Object(h.jsx)(p.c,{children:t.map((function(e){return Object(h.jsx)(p.a,{path:e.path,exact:!0,component:e.component},e.path)}))})};function Z(){return Object(o.c)().connected?Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(d.a,{basename:"/".concat("/Asylum"),children:Object(h.jsxs)(m.a,{container:!0,spacing:2,columns:5,children:[Object(h.jsx)(m.a,{item:!0,xs:1,children:Object(h.jsx)(j,{pages:Y})}),Object(h.jsx)(m.a,{item:!0,xs:4,children:Object(h.jsx)(U,{pages:Y})})]})})}):Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"100px"},children:Object(h.jsx)(l.b,{})})}var $=function(){return Object(h.jsx)(o.a,{endpoint:"https://api.devnet.solana.com",children:Object(h.jsx)(o.b,{wallets:H,autoConnect:!0,children:Object(h.jsx)(l.a,{children:Object(h.jsx)(Z,{})})})})},_=Object(A.c)({name:"accountPage",initialState:{},reducers:{},extraReducers:function(e){}}).reducer,ee=Object(A.c)({name:"gamesStorePage",initialState:{},reducers:{},extraReducers:function(e){}}).reducer,te=Object(A.c)({name:"inventoryPage",initialState:{items:[],isLoaded:!1},reducers:{},extraReducers:function(e){e.addCase(C.fulfilled,(function(e,t){console.log("heeeyaaa",t.payload)}))}}).reducer,ne=Object(A.c)({name:"libraryPage",initialState:{},reducers:{},extraReducers:function(e){}}).reducer,re=Object(A.c)({name:"marketplacePage",initialState:{},reducers:{},extraReducers:function(e){}}).reducer,ae=Object(A.a)({reducer:{accountPage:_,gamesStorePage:ee,inventoryPage:te,libraryPage:ne,marketplacePage:re}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(g.a,{store:ae,children:Object(h.jsx)($,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},67:function(e){e.exports=JSON.parse('{"version":"0.0.0","name":"players","instructions":[{"name":"initialize","accounts":[{"name":"playerAccount","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"bump","type":"u8"},{"name":"nickname","type":"string"},{"name":"avatar","type":"publicKey"}]},{"name":"updateNickname","accounts":[{"name":"playerAccount","isMut":true,"isSigner":false}],"args":[{"name":"nickname","type":"string"}]},{"name":"updateAvatar","accounts":[{"name":"playerAccount","isMut":true,"isSigner":false}],"args":[{"name":"avatar","type":"publicKey"}]},{"name":"addGame","accounts":[{"name":"playerAccount","isMut":true,"isSigner":false}],"args":[{"name":"game","type":"publicKey"}]},{"name":"removeGame","accounts":[{"name":"playerAccount","isMut":true,"isSigner":false}],"args":[{"name":"game","type":"publicKey"}]},{"name":"addAchievement","accounts":[{"name":"playerAccount","isMut":true,"isSigner":false}],"args":[{"name":"achievementId","type":"u16"},{"name":"expToAdd","type":"u32"}]},{"name":"addExp","accounts":[{"name":"playerAccount","isMut":true,"isSigner":false}],"args":[{"name":"exp","type":"u32"}]}],"accounts":[{"name":"PlayerAccount","type":{"kind":"struct","fields":[{"name":"nickname","type":"string"},{"name":"avatar","type":"publicKey"},{"name":"games","type":{"vec":"publicKey"}},{"name":"level","type":"u8"},{"name":"exp","type":"u32"},{"name":"achievements","type":{"vec":"u16"}}]}}],"metadata":{"address":"9acXdXcHNvgNiy5J62B5mt2gyZuMQ1fBYaqtdnHcjGkj"}}')},73:function(e){e.exports=JSON.parse('{"version":"0.0.0","name":"asylum","instructions":[{"name":"initialize","accounts":[{"name":"mainAccount","isMut":true,"isSigner":true},{"name":"user","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"initializeAchievements","accounts":[{"name":"achievementsAccount","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"bump","type":"u8"}]},{"name":"addAchievement","accounts":[{"name":"achievementsAccount","isMut":true,"isSigner":false}],"args":[{"name":"label","type":"string"},{"name":"description","type":"string"},{"name":"game","type":"publicKey"}]},{"name":"initializeGamesCatalog","accounts":[{"name":"gamesCatalogAccount","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"bump","type":"u8"}]},{"name":"addGameToCatalog","accounts":[{"name":"gamesCatalogAccount","isMut":true,"isSigner":false}],"args":[{"name":"game","type":"publicKey"}]}],"accounts":[{"name":"AsylumMainAccount","type":{"kind":"struct","fields":[]}},{"name":"GamesCatalogAccount","type":{"kind":"struct","fields":[{"name":"games","type":{"vec":"publicKey"}}]}},{"name":"AchievementsAccount","type":{"kind":"struct","fields":[{"name":"achievements","type":{"vec":{"defined":"Achievement"}}}]}}],"types":[{"name":"Achievement","type":{"kind":"struct","fields":[{"name":"id","type":"u16"},{"name":"label","type":"string"},{"name":"description","type":"string"},{"name":"game","type":"publicKey"}]}}],"metadata":{"address":"Ec5HRTfsozgfQerig5DTsKqGL3MkZ3jcdohb3qYXwzMN"}}')}},[[544,1,2]]]);
//# sourceMappingURL=main.6d2331a6.chunk.js.map