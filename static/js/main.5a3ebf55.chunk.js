(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{1018:function(e,t){},1178:function(e,t){},1180:function(e,t,n){},1181:function(e,t,n){},1182:function(e,t,n){},1183:function(e,t,n){},1184:function(e,t,n){},1185:function(e,t,n){},1186:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"findPlayerGlobalAccountAddress",(function(){return C})),n.d(a,"findPlayerGameAccountAddress",(function(){return K})),n.d(a,"initPlayer",(function(){return F})),n.d(a,"updatePlayerNickname",(function(){return L})),n.d(a,"updatePlayerAvatar",(function(){return T})),n.d(a,"addGameToLibrary",(function(){return B})),n.d(a,"removeGameFromLibrary",(function(){return G})),n.d(a,"addAchievement",(function(){return E})),n.d(a,"addExp",(function(){return M}));var r=n(0),c=n.n(r),i=n(47),s=n.n(i),o=(n(659),n(660),n(630)),u=n(64),l=n(363),d=n(76),m=n(153),p=n(1295),f=n(1290),b=n(1282),g=n(1273),j=n.p+"static/media/telegramIcon.ab42dcf7.svg",v=n.p+"static/media/discordIcon.f11d82c5.svg",h=n(5),O=n.n(h),x=n(11),y=n(17),k=(n(836),n.p+"static/media/gamer_1_square.b2ae303f.png"),w=n.p+"static/media/editPencil.c1f8c78d.svg",N=n(623),_=n.n(N),P=n(624),S=n.n(P),I=n(10),A=n(120),C=function(e,t){return I.PublicKey.findProgramAddress([e.toBuffer()],t)},K=function(e,t,n){return I.PublicKey.findProgramAddress([e.toBuffer(),t.toBuffer()],n)},F=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,a,r,c,i,s,o,u,l=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"Crypto Warior",a=l.length>2&&void 0!==l[2]?l[2]:I.PublicKey.default,r=t.provider.wallet.publicKey,c=t.programId,e.next=6,C(r,c);case 6:return i=e.sent,s=Object(y.a)(i,2),o=s[0],u=s[1],e.next=12,t.rpc.initialize(u,n,a,{accounts:{playerAccount:o,user:r,systemProgram:A.d.SystemProgram.programId}});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a,r,c,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.provider.wallet.publicKey,r=t.programId,e.next=4,C(a,r);case 4:return c=e.sent,i=Object(y.a)(c,2),s=i[0],i[1],e.next=10,t.rpc.updateNickname(n,{accounts:{playerAccount:s}});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a,r,c,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.provider.wallet.publicKey,r=t.programId,e.next=4,C(a,r);case 4:return c=e.sent,i=Object(y.a)(c,2),s=i[0],i[1],e.next=10,t.rpc.updateAvatar(n,{accounts:{playerAccount:s}});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a,r,c,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.provider.wallet.publicKey,r=t.programId,e.next=4,C(a,r);case 4:return c=e.sent,i=Object(y.a)(c,2),s=i[0],i[1],e.next=10,t.rpc.addGame(n,{accounts:{playerAccount:s}});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a,r,c,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.provider.wallet.publicKey,r=t.programId,e.next=4,C(a,r);case 4:return c=e.sent,i=Object(y.a)(c,2),s=i[0],i[1],e.next=10,t.rpc.removeGame(n,{accounts:{playerAccount:s}});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a,r,c,i,s,o,u=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>2&&void 0!==u[2]?u[2]:0,r=t.provider.wallet.publicKey,c=t.programId,e.next=5,C(r,c);case 5:return i=e.sent,s=Object(y.a)(i,2),o=s[0],s[1],e.next=11,t.rpc.addAchievement(n,a,{accounts:{playerAccount:o}});case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a,r,c,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.provider.wallet.publicKey,r=t.programId,e.next=4,C(a,r);case 4:return c=e.sent,i=Object(y.a)(c,2),s=i[0],i[1],e.next=10,t.rpc.addExp(n,{accounts:{playerAccount:s}});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=n(306),W=n(56),R=n(431),H=n(432),J=(W.c,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://api.devnet.solana.com",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(u.c)(),a=new I.Connection(e,"processed");if(!n)return t?new A.b(a,void 0,{preflightCommitment:"processed"}):void 0;var r=new A.b(a,n,{preflightCommitment:"processed"});return r}),q=new I.PublicKey(R.metadata.address),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://api.devnet.solana.com",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=J(e,t);if(n)return new A.a(R,q,n)},Q=new I.PublicKey(H.metadata.address),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://api.devnet.solana.com",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=J(e,t);if(n)return new A.a(H,Q,n)},X=n(28),V=n(70),Z=n.p+"static/media/gameExample.93f60f97.png",Y=n.p+"static/media/wots_wide.8e0cd7a8.png",$=n.p+"static/media/wotsH.28530004.jpg",ee=n.p+"static/media/wots_wide_logo.5b51dda5.png",te=(I.Keypair.generate().publicKey,{publicKey:I.Keypair.generate().publicKey,img:$}),ne={publicKey:I.Keypair.generate().publicKey,img:$},ae=[{publicKey:I.Keypair.generate().publicKey,img:Y},{publicKey:I.Keypair.generate().publicKey,img:ee},{publicKey:I.Keypair.generate().publicKey,img:Y}],re=[{address:te.publicKey,title:"Game dummy",description:"This is a dummy game description. ".repeat(10),cover:te.img,launchUrl:"",images:[te.img,te.img,te.img],tokenMint:I.PublicKey.default,itemsMint:[I.PublicKey.default],validationLevel:1},{address:ne.publicKey,title:"Game dummy",description:"This is a dummy game description. ".repeat(10),cover:ne.img,launchUrl:"",images:[ne.img,ne.img,ne.img],tokenMint:I.PublicKey.default,itemsMint:[I.PublicKey.default],validationLevel:1}].concat(Object(X.a)(ae.map((function(e,t){return{address:e.publicKey,title:"Game dummy",description:"This is a dummy game description. ".repeat(10),cover:e.img,launchUrl:"",images:[e.img,e.img,e.img],tokenMint:I.PublicKey.default,itemsMint:[I.PublicKey.default],validationLevel:1}})))),ce=n(44),ie=n(68),se=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a,r,c,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.getMetadata)(n.toString());case 2:return a=e.sent,e.next=5,t.getAccountInfo(new I.PublicKey(a));case 5:if(r=e.sent){e.next=8;break}throw Error("getAccountInfo returns invalid data");case 8:return c=Object(ie.decodeMetadata)(r.data),e.next=11,fetch(c.data.uri);case 11:return i=e.sent,e.next=14,i.json();case 14:return s=e.sent,e.abrupt("return",Object(ce.a)(Object(ce.a)({},c),{},{jsonData:s}));case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oe=Object(V.b)("games/fetchNfts",function(){var e=Object(x.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connection,a=t.mints,e.abrupt("return",Promise.all(a.map(function(){var e=Object(x.a)(O.a.mark((function e(t){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se(n,t);case 3:return a=e.sent,r={address:new I.PublicKey(a.mint),title:a.data.name,description:a.jsonData.description,cover:a.jsonData.image,launchUrl:a.jsonData.properties.launch_url,images:a.jsonData.properties.images_links,tokenMint:a.jsonData.properties.token_mint_account,itemsMint:a.jsonData.properties.items_mint_accounts,validationLevel:a.jsonData.properties.validation_level},e.abrupt("return",{ok:!0,mint:t,game:r});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{ok:!1,mint:t,game:null});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ue={inProgress:[],loaded:Object(X.a)(re),failed:[]},le=Object(V.c)({name:"gamesNftStore",initialState:ue,reducers:{},extraReducers:function(e){e.addCase(oe.fulfilled,(function(e,t){var n=t.payload.filter((function(e){return e.ok})).map((function(e){return e.game})),a=t.payload.filter((function(e){return!e.ok})).map((function(e){return e.mint.toString()}));return e.loaded=e.loaded.concat(n),e.failed=e.failed.concat(a),e}))}}),de=function(e,t){var n=function(e){return e.gamesNftStore}(e),a=n.inProgress.filter((function(e){return t.find((function(t){return t===e}))})),r=n.loaded.filter((function(e){return t.find((function(t){return t===e.address.toString()}))})),c=n.failed.filter((function(e){return t.find((function(t){return t===e}))})),i={};return a.forEach((function(e){return i[e.toString()]={status:"inProgress"}})),r.forEach((function(e){return i[e.address.toString()]={status:"loaded",game:e}})),c.forEach((function(e){return i[e.toString()]={status:"failed"}})),i},me=le.reducer,pe=n(8),fe=function(){var e=Object(u.d)(),t=z(),n=U(),c=Object(W.b)(),i=Object(r.useState)(!1),s=Object(y.a)(i,2),o=(s[0],s[1]),l=Object(r.useState)("INIT"),d=Object(y.a)(l,2),m=d[0],p=d[1],f=Object(r.useState)("INIT"),b=Object(y.a)(f,2),j=b[0],v=b[1],h=Object(r.useState)("INIT"),N=Object(y.a)(h,2),P=N[0],A=N[1],C=Object(r.useState)(""),K=Object(y.a)(C,2),F=K[0],L=K[1],T=Object(r.useState)(""),B=Object(y.a)(T,2),G=B[0],E=B[1],M=Object(r.useState)(!1),R=Object(y.a)(M,2),H=R[0],J=R[1],q=Object(r.useState)([]),Q=Object(y.a)(q,2),X=Q[0],V=Q[1],Z=Object(r.useState)([]),Y=Object(y.a)(Z,2),$=Y[0],ee=Y[1],te=Object(r.useState)(0),ne=Object(y.a)(te,2),ae=ne[0],re=ne[1],ce=Object(W.c)((function(e){return de(e,X.map((function(e){var t,n;return null===(t=$.find((function(t){return t.id===e})))||void 0===t||null===(n=t.game)||void 0===n?void 0:n.toString()})))}));function ie(){return(ie=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,v("PENDING"),e.next=6,a.initPlayer(t);case 6:o(!0),v("FINISHED"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),v("FAILED"),console.log("Transaction error: ",e.t0);case 14:se();case 15:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function se(){return ue.apply(this,arguments)}function ue(){return(ue=Object(x.a)(O.a.mark((function e(){var n,r,c,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,p("PENDING"),e.next=6,a.findPlayerGlobalAccountAddress(null===t||void 0===t?void 0:t.provider.wallet.publicKey,null===t||void 0===t?void 0:t.programId);case 6:return n=e.sent,r=Object(y.a)(n,2),c=r[0],r[1],e.next=12,t.account.playerAccount.fetch(c);case 12:i=e.sent,console.log(i),o(!0),L(i.nickname.toString()),p("FINISHED"),J(!1),V(i.achievements),re(i.level),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(2),p("FAILED"),console.log("Player data fetching error: ",e.t0);case 26:case"end":return e.stop()}}),e,null,[[2,22]])})))).apply(this,arguments)}function le(){return(le=Object(x.a)(O.a.mark((function e(){var t,a,r,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,A("PENDING"),e.next=6,D.findAchievementsAccountAddress(null===n||void 0===n?void 0:n.programId);case 6:return t=e.sent,a=Object(y.a)(t,2),r=a[0],a[1],e.next=12,n.account.achievementsAccount.fetch(r);case 12:return i=e.sent,console.log(i),i.achievements,A("FINISHED"),ee(i.achievements),e.next=19,c(oe({connection:n.provider.connection,mints:i.achievements.map((function(e){return new I.PublicKey(e.game)}))}));case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(2),A("FAILED"),console.log("Player data fetching error: ",e.t0);case 25:case"end":return e.stop()}}),e,null,[[2,21]])})))).apply(this,arguments)}function me(){return(me=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,a.updatePlayerNickname(t,G);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log("Transaction error: ",e.t0);case 10:se();case 11:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function fe(){return(fe=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J(!1),E("");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){"INIT"===m&&se()}),[t,m]),Object(r.useEffect)((function(){"INIT"===j&&"FAILED"===m&&function(){ie.apply(this,arguments)}()}),[t,j,m]),Object(r.useEffect)((function(){"INIT"===P&&function(){le.apply(this,arguments)}()}),[t]),Object(r.useEffect)((function(){E(F)}),[H,F]);return Object(pe.jsx)(pe.Fragment,{children:e.connected&&Object(pe.jsxs)("div",{className:"profileContainer",children:[Object(pe.jsxs)("div",{className:"accountInfo",children:[Object(pe.jsx)("img",{className:"profileIcon",src:k,alt:"profile icon"}),Object(pe.jsxs)("div",{className:"nicknameChangingBox ".concat(H?"":"notVisible"),children:[Object(pe.jsx)("input",{style:{width:110},placeholder:"New nickname (string, 32 bytes)",onChange:function(e){return E(e.target.value)},value:G}),Object(pe.jsx)(_.a,{className:"actionIcon",onClick:function(){return me.apply(this,arguments)}}),Object(pe.jsx)(S.a,{className:"actionIcon",onClick:function(){return fe.apply(this,arguments)}})]}),Object(pe.jsxs)("div",{className:H?"notVisible":"",children:[Object(pe.jsxs)(g.a,{className:"userName",children:[F,Object(pe.jsx)("img",{onClick:function(){J(!0)},className:"editIcon",src:w,alt:"edit"})]}),Object(pe.jsxs)(g.a,{children:["Level ",ae]})]})]}),Object(pe.jsxs)("div",{className:"achievmentsContainer",children:[Object(pe.jsx)(g.a,{children:"Last achievements:"}),Object(pe.jsx)("ul",{children:X.filter((function(e){return $.find((function(t){return t.id===e}))})).map((function(e,t){var n,a,r=$.find((function(t){return t.id==e}));return Object(pe.jsx)(pe.Fragment,{children:!!r&&t<3&&Object(pe.jsx)("li",{children:Object(pe.jsx)(g.a,{children:"".concat(r.label," - ").concat(r.description," | Game: ").concat(null===(n=ce[r.game.toString()])||void 0===n||null===(a=n.game)||void 0===a?void 0:a.title)})},t)})}))})]})]})})},be=(n(564),n(625)),ge=(n(570),n(1289)),je=n(1285),ve=n(1300);n(970);function he(){var e=r.useState(!1),t=Object(y.a)(e,2),n=t[0],a=t[1],c=r.useState([]),i=Object(y.a)(c,2),s=i[0],o=i[1],u=n&&0===s.length;return r.useEffect((function(){var e=!0;if(u)return Object(x.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&o([].concat(Oe));case 1:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[u]),r.useEffect((function(){n||o([])}),[n]),Object(pe.jsx)(je.a,{id:"searchbar-asylum",sx:{width:"100%"},open:n,onOpen:function(){a(!0)},onClose:function(){a(!1)},isOptionEqualToValue:function(e,t){return e.title===t.title},getOptionLabel:function(e){return e.title},options:s,loading:u,renderInput:function(e){return Object(pe.jsx)(ge.a,Object(ce.a)(Object(ce.a)({},e),{},{InputProps:Object(ce.a)(Object(ce.a)({},e.InputProps),{},{endAdornment:Object(pe.jsxs)(r.Fragment,{children:[u?Object(pe.jsx)(ve.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))}})}var Oe=[{title:"Coming soon..."}],xe=(n(972),n(1301)),ye=(n.p,n.p,n.p,n.p,Object(V.b)("games/fetchLibrary",function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r,c,i,s,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.player,r=t.program,e.next=3,a.findPlayerGlobalAccountAddress(n,r.programId);case 3:return c=e.sent,i=Object(y.a)(c,2),s=i[0],i[1],e.next=9,r.account.playerAccount.fetch(s);case 9:return o=e.sent,console.log("player games ",o.games),e.abrupt("return",o.games);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),ke=Object(V.b)("games/fetchCatalogAndLoadNfts",function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a,r,c,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.player,r=t.program,c=n.dispatch,e.next=4,c(ye({player:a,program:r}));case 4:if(!(i=e.sent).payload){e.next=8;break}return e.next=8,c(oe({connection:r.provider.connection,mints:i.payload}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),we=function(e){var t=e.visibility,n=e.game,c=e.handleClose,i=e.isAdded,s=Object(r.useRef)(),o=z(),l=Object(W.b)(),d=Object(u.d)(),m=function e(t){s.current&&!s.current.contains(t.target)&&(document.removeEventListener("mousedown",e),c())};return Object(r.useEffect)((function(){!0===t&&document.addEventListener("mousedown",m)}),[t]),Object(pe.jsx)("div",{className:"SingleGameInfo ".concat(t?"":"notVisible"),children:Object(pe.jsxs)("div",{ref:s,className:"gameInfoContainer",children:[Object(pe.jsxs)("div",{className:"firstRow",children:[Object(pe.jsx)("img",{className:"gameCover",src:null===n||void 0===n?void 0:n.cover,alt:"game cover"}),Object(pe.jsxs)("div",{className:"generalInfo",children:[Object(pe.jsxs)("div",{className:"info-row",children:[Object(pe.jsx)(xe.a,{className:"title",children:null===n||void 0===n?void 0:n.title}),Object(pe.jsx)(xe.a,{className:"descLabel",children:"Description"}),Object(pe.jsx)(xe.a,{className:"description",children:null===n||void 0===n?void 0:n.description})]}),Object(pe.jsxs)("div",{className:"act-row",children:[Object(pe.jsx)("div",{className:"decor"}),Object(pe.jsx)("div",{onClick:i?function(){var e,t;n&&(null===(e=window)||void 0===e||null===(t=e.open(n.launchUrl,"_blank"))||void 0===t||t.focus())}:function(){o&&n&&a.addGameToLibrary(o,n.address).then((function(){return l(ye({player:d.publicKey,program:o}))}))},children:Object(pe.jsx)(xe.a,{className:"addToBasket",children:i?"Launch":"Add to library"})})]})]})]}),Object(pe.jsx)("div",{className:"gameImages",children:null===n||void 0===n?void 0:n.images.map((function(e,t){return Object(pe.jsx)("img",{className:"gameIllustration",src:e,alt:"illustration"},t)}))})]})})},Ne=n(629),_e=n(1281),Pe=n(1286),Se=(n(973),n(437)),Ie=n(72),Ae=n.n(Ie),Ce=n(628),Ke="metadata.json",Fe=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("uploading to IPFS",t),e.next=3,Object(Ce.create)({host:"ipfs.infura.io",port:5001,protocol:"https"});case 3:return n=e.sent,e.next=6,n.add(t);case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(x.a)(O.a.mark((function e(t,n,a,r,c,i,s){var o,u,l,d,m,p,f,b,g,j,v,h,x,y,k,w,N,_;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.publicKey){e.next=2;break}throw new Error("Wallet should have a public key.");case 2:return u={name:c.name,symbol:c.symbol,description:c.description,seller_fee_basis_points:c.sellerFeeBasisPoints,image:c.image,animation_url:c.animation_url,attributes:c.attributes,external_url:c.external_url,properties:Object(ce.a)(Object(ce.a)({},c.properties),{},{creators:null===(o=c.creators)||void 0===o?void 0:o.map((function(e){return{address:e.address,share:e.share}}))})},l=[].concat(Object(X.a)(r),[new File([JSON.stringify(u)],Ke)]),console.log("js meta",JSON.stringify(u)),i(10),d=Object(ie.programIds)().token,e.next=9,t.getMinimumBalanceForRentExemption(Se.a.span);case 9:return m=e.sent,p=n.publicKey.toBase58(),f=[],b=[],g=Object(ie.createMint)(f,n.publicKey,m,0,Object(ie.toPublicKey)(p),Object(ie.toPublicKey)(p),b).toBase58(),e.next=16,Object(ie.findProgramAddress)([n.publicKey.toBuffer(),Object(ie.programIds)().token.toBuffer(),Object(ie.toPublicKey)(g).toBuffer()],Object(ie.programIds)().associatedToken);case 16:return j=e.sent[0],Object(ie.createAssociatedTokenAccountInstruction)(f,Object(ie.toPublicKey)(j),n.publicKey,n.publicKey,Object(ie.toPublicKey)(g)),e.next=20,Object(ie.createMetadata)(new ie.Data({symbol:c.symbol,name:c.name,uri:" ".repeat(64),sellerFeeBasisPoints:c.sellerFeeBasisPoints,creators:c.creators}),p,g,p,f,n.publicKey.toBase58());case 20:return v=e.sent,i(20),e.next=24,Object(ie.sendTransactionWithRetry)(t,n,f,b,"single");case 24:return h=e.sent,x=h.txid,i(30),e.prev=27,e.next=30,t.confirmTransaction(x,"max");case 30:i(40),e.next=35;break;case 33:e.prev=33,e.t0=e.catch(27);case 35:return e.next=37,t.getParsedConfirmedTransaction(x,"confirmed");case 37:return i(50),console.log("Uploading data to ipfs",l),e.next=41,Promise.all(l.map((function(e){return Fe({path:e.name,content:e})})));case 41:if(y=e.sent,i(60),!(null===(k=null===y||void 0===y?void 0:y.find((function(e){return e.path===Ke})))||void 0===k?void 0:k.cid)||!n.publicKey){e.next=59;break}return w=[],N=[],_="https://ipfs.infura.io/ipfs/".concat(k.cid),console.log("calling updateMetadata with link: ",_),e.next=51,Object(ie.updateMetadata)(new ie.Data({name:c.name,symbol:c.symbol,uri:_,creators:c.creators,sellerFeeBasisPoints:c.sellerFeeBasisPoints}),void 0,void 0,g,p,w,v);case 51:return w.push(Se.b.createMintToInstruction(d,Object(ie.toPublicKey)(g),Object(ie.toPublicKey)(j),Object(ie.toPublicKey)(p),[],1)),i(70),e.next=55,Object(ie.createMasterEdition)(void 0!==s?new Ae.a(s):void 0,g,p,p,p,w);case 55:return i(80),e.next=58,Object(ie.sendTransactionWithRetry)(t,n,w,N);case 58:e.sent;case 59:return console.log("metadataAccount",v),console.log("mintKey",g),e.abrupt("return",{metadataAccount:v,mintAccount:g});case 62:case"end":return e.stop()}}),e,null,[[27,33]])})));return function(t,n,a,r,c,i,s){return e.apply(this,arguments)}}(),Te=n(1303),Be=n(1302),Ge=Object(V.b)("games/fetchCatalog",function(){var e=Object(x.a)(O.a.mark((function e(t){var n,a,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.findGamesCatalogAccountAddress(t.programId);case 2:return n=e.sent,a=Object(y.a)(n,2),r=a[0],a[1],e.next=8,t.account.gamesCatalogAccount.fetch(r);case 8:return c=e.sent,e.abrupt("return",c.games);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ee=Object(V.b)("games/fetchCatalogAndLoadNfts",function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.next=3,a(Ge(t));case 3:if(!(r=e.sent).payload){e.next=7;break}return e.next=7,a(oe({connection:t.provider.connection,mints:r.payload}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());function Me(e){return Object(pe.jsxs)(Be.a,{sx:{display:"flex",alignItems:"center"},children:[Object(pe.jsx)(Be.a,{sx:{width:"100%",mr:1},children:Object(pe.jsx)(Te.a,Object(ce.a)({variant:"determinate"},e))}),Object(pe.jsx)(Be.a,{sx:{minWidth:35},children:Object(pe.jsx)(g.a,{variant:"body2",children:"".concat(Math.round(e.value),"%")})})]})}var De=function(){var e=J(),t=Object(u.c)(),n=U(),a=Object(r.useState)(0),c=Object(y.a)(a,2),i=c[0],s=c[1],o=Object(W.b)();function l(){return l=Object(x.a)(O.a.mark((function a(r){var c,i,u,l,d,m,p;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=r.title,i=r.description,u=r.cover,l=r.launch_url,d=r.images_links,m=r.token_mint_account,p=r.items_mint_accounts,e&&t&&n){a.next=3;break}return a.abrupt("return");case 3:return console.log("mintNFT"),a.abrupt("return",Le(e.connection,t,"devnet",[],{name:c,symbol:"XXX",description:i,image:u,animation_url:void 0,attributes:void 0,external_url:"",properties:{images_links:d,token_mint_account:m,items_mint_accounts:p,launch_url:l,validation_level:1},creators:null,sellerFeeBasisPoints:0},s).then(function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.addGameToCatalog)(n,new I.PublicKey(t.mintAccount));case 2:o(Ee(n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)})).finally((function(){return s(100)})));case 5:case"end":return a.stop()}}),a)}))),l.apply(this,arguments)}Object(r.useEffect)((function(){console.log("NFTcreationProgress",i)}),[i]);var d=Object(Ne.a)({initialValues:{game_title:"Way of the Sword",game_cover:"https://ipfs.infura.io/ipfs/QmQBznKy9upLQnPKZeEXD71uMXq1GZiqKKuwN7Pkygtsnt",game_launch_url:"",game_description:"This is a dummy game description. This text is meaningless and used only to fill a place of real game description. Oh, and this game is fictional too. But maybe it could be a great game, who knows...",game_images_links:"https://ipfs.infura.io/ipfs/Qmah7tBhucSBsjnFJR7qyvLpmRH82DSX9nTGGpJiqHQ9tm,https://ipfs.infura.io/ipfs/Qmah7tBhucSBsjnFJR7qyvLpmRH82DSX9nTGGpJiqHQ9tm,https://ipfs.infura.io/ipfs/Qmah7tBhucSBsjnFJR7qyvLpmRH82DSX9nTGGpJiqHQ9tm",game_token_mint_account:"",game_items_mint_accounts:""},onSubmit:function(e){!function(e){l.apply(this,arguments)}({title:e.game_title,cover:e.game_cover,launch_url:e.game_launch_url,description:e.game_description,images_links:e.game_images_links.split(","),token_mint_account:e.game_token_mint_account?new I.PublicKey(e.game_token_mint_account):void 0,items_mint_accounts:e.game_items_mint_accounts?e.game_items_mint_accounts.split(",").map((function(e){return new I.PublicKey(e)})):void 0})}});return i>0?Object(pe.jsxs)("div",{className:"devPanelForm",children:[Object(pe.jsx)(g.a,{variant:"h5",style:{paddingBottom:"20px"},children:i<100?"NFT minting in progress...":"Done!"}),Object(pe.jsx)(Me,{value:i})]}):Object(pe.jsxs)("div",{className:"devPanelForm",children:[Object(pe.jsx)(g.a,{variant:"h4",children:"New game"}),Object(pe.jsxs)("form",{onSubmit:d.handleSubmit,children:[Object(pe.jsx)("div",{className:"devPanelInputField",children:Object(pe.jsx)(Pe.a,{fullWidth:!0,className:"devPanelTextField",id:"game_title",name:"game_title",label:"Game title",placeholder:"game title",value:d.values.game_title,onChange:d.handleChange,error:d.touched.game_title&&Boolean(d.errors.game_title)})}),Object(pe.jsx)("div",{className:"devPanelInputField",children:Object(pe.jsx)(Pe.a,{fullWidth:!0,className:"devPanelTextField",id:"game_cover",name:"game_cover",label:"Game cover",value:d.values.game_cover,placeholder:"link to your game's image",onChange:d.handleChange,error:d.touched.game_cover&&Boolean(d.errors.game_cover),helperText:"Link to an image (will be used as NFT image)"})}),Object(pe.jsx)("div",{className:"devPanelInputField",children:Object(pe.jsx)(Pe.a,{fullWidth:!0,className:"devPanelTextField",id:"game_launch_url",name:"game_launch_url",label:"Game launch url",value:d.values.game_launch_url,placeholder:"link to your game",onChange:d.handleChange,error:d.touched.game_launch_url&&Boolean(d.errors.game_launch_url),helperText:"Link to your game"})}),Object(pe.jsx)("div",{className:"devPanelInputField",children:Object(pe.jsx)(Pe.a,{fullWidth:!0,className:"devPanelTextField",id:"game_description",name:"game_description",label:"Game description",value:d.values.game_description,onChange:d.handleChange,error:d.touched.game_cover&&Boolean(d.errors.game_description),helperText:"link to text description (will be used as NFT description)"})}),Object(pe.jsx)("div",{className:"devPanelInputField",children:Object(pe.jsx)(Pe.a,{fullWidth:!0,className:"devPanelTextField",id:"game_images_links",name:"game_images_links",label:"Game images links",value:d.values.game_images_links,placeholder:"Links",onChange:d.handleChange,helperText:"Links list separated by comma. Could be screenshots, arts, or any other images",error:d.touched.game_cover&&Boolean(d.errors.game_images_links)})}),Object(pe.jsx)("div",{className:"devPanelInputField",children:Object(pe.jsx)(Pe.a,{fullWidth:!0,className:"devPanelTextField",id:"game_token_mint_account",name:"game_token_mint_account",label:"Game token mint account",value:d.values.game_token_mint_account,onChange:d.handleChange,error:d.touched.game_cover&&Boolean(d.errors.game_token_mint_account),helperText:"[Optional] In-game token mint address. Will be used to display user's in-game balance"})}),Object(pe.jsx)("div",{className:"devPanelInputField",children:Object(pe.jsx)(Pe.a,{fullWidth:!0,className:"devPanelTextField",id:"game_items_mint_accounts",name:"game_items_mint_accounts",label:"Game items mint accounts",value:d.values.game_items_mint_accounts,onChange:d.handleChange,helperText:"[Optional] List of mint address for in-game items, separeted by comma",error:d.touched.game_cover&&Boolean(d.errors.game_items_mint_accounts)})}),Object(pe.jsx)(_e.a,{color:"default",variant:"contained",type:"submit",children:"Submit"})]})]})},We=n(1287),Re=n(177),He=function(e){var t=e.isOpen,n=e.anchorEl,a=e.handleClose,r=Object(Re.a)();return Object(pe.jsx)(We.a,{id:"popover-dev -panel",open:t,anchorEl:n,onClose:a,children:Object(pe.jsx)("div",{style:{width:"50%",backgroundColor:r.palette.background.default,border:"1px solid",borderColor:r.palette.secondary.main,position:"fixed",top:"5%",left:"30%"},children:Object(pe.jsx)(De,{})})})},Je=n(1304),qe=function(){var e=r.useState(null),t=Object(y.a)(e,2),n=t[0],a=t[1];return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(Je.a,{variant:"contained",onClick:function(e){a(e.currentTarget)},children:"Add new game"}),Object(pe.jsx)(He,{isOpen:!!n,anchorEl:n,handleClose:function(){a(null)}})]})},ze=(n(1180),function(e){var t=e.image,n=e.isAdded,a=void 0!==n&&n,r=e.disabled,c=void 0!==r&&r,i=(e.loading,e.loadingFailed,e.onAdd),s=void 0===i?void 0:i,o=e.onLaunch,u=void 0===o?void 0:o,l=e.onClick;return Object(pe.jsx)("div",{onClick:c?void 0:l,className:"gameItemWrapper",children:Object(pe.jsx)("div",{className:"game",style:{backgroundImage:"url(".concat(t,")")},children:a?Object(pe.jsx)("div",{className:"tileButton launchButton "+(c?"disabled":"active"),onClick:c?void 0:u,children:Object(pe.jsx)(xe.a,{variant:"caption",children:"Launch"})}):Object(pe.jsx)("div",{className:"tileButton addButton "+(c?"disabled":"active"),onClick:c?void 0:s,children:Object(pe.jsx)(xe.a,{variant:"caption",onClick:c?s:void 0,children:"Add"})})})})}),Qe=n(1291),Ue=function(e){var t=e.gamesInCatalogIds,n=e.gamesInLibraryIds,c=e.isDisabled,i=e.gamesData,s=e.setSelected,o=z(),l=Object(W.b)(),d=Object(u.d)(),m=Object(r.useState)(!1),p=Object(y.a)(m,2),f=p[0],b=p[1];return c=c&&!o,Object(pe.jsxs)("div",{children:[Object(pe.jsxs)("div",{children:[Object(pe.jsx)(Qe.a,{title:"Show unverified games",checked:f,onChange:function(e){b(e.target.checked)},sx:{color:"#ffffff","&.Mui-checked":{color:"#ffffff"}}}),"Show unverified"]}),Object(pe.jsx)("div",{className:"gamesList",children:t.map((function(e,t){var r,u,m,p,b=null!==(r=i[e])&&void 0!==r?r:{status:"inProgress"},g="loaded"===b.status,j=null!==(u=null===(m=b.game)||void 0===m?void 0:m.validationLevel)&&void 0!==u?u:0;return!f&&j<1?Object(pe.jsx)(pe.Fragment,{}):Object(pe.jsx)(ze,{disabled:c,loading:"inProgress"===b.status,loadingFailed:"failed"===b.status,image:g?null===(p=b.game)||void 0===p?void 0:p.cover:void 0,isAdded:-1!==n.indexOf(e),onAdd:function(){var t;t=e,o&&a.addGameToLibrary(o,new I.PublicKey(t)).then((function(){return l(ye({player:d.publicKey,program:o}))}))},onLaunch:function(){var e,t,n;g&&(null===(e=window)||void 0===e||null===(t=e.open(null===(n=b.game)||void 0===n?void 0:n.launchUrl,"_blank"))||void 0===t||t.focus())},onClick:function(){s(e)}},t.toString())}))})]})},Xe=n.p+"static/media/sol.13887d06.svg",Ve=(n(1181),function(e){var t=e.image,n=e.itemName,a=e.gameName,r=e.price;return Object(pe.jsxs)("div",{className:"gameItemBox",children:[Object(pe.jsxs)("div",{className:"gameItem",children:[Object(pe.jsx)("img",{className:"itemImage",alt:"item",src:t}),Object(pe.jsx)("div",{className:"hoverBox",children:Object(pe.jsx)(xe.a,{children:"View on blockchain"})}),Object(pe.jsx)("div",{className:"SellButton",children:Object(pe.jsx)(xe.a,{variant:"caption",children:"Sell"})})]}),Object(pe.jsx)(xe.a,{className:"itemName",children:n}),Object(pe.jsxs)("div",{className:"dataBox",children:[Object(pe.jsx)(xe.a,{className:"name",children:a}),Object(pe.jsxs)(xe.a,{className:"price",children:[r,Object(pe.jsx)("img",{className:"solSymbol",src:Xe,alt:"sol"})]})]})]})}),Ze=(n(1182),n.p,n.p,n.p,n.p,n.p+"static/media/item_ex_1.71413912.png"),Ye=n.p+"static/media/item_ex_4.5444ed4a.png",$e=n.p+"static/media/item_ex_3.97dba060.png",et=n.p+"static/media/item_ex_2.940f4a6d.png",tt=[{address:I.Keypair.generate().publicKey,game:te.publicKey,name:"Helmet",description:"Common helmet for common variors",image:Ze,price:5.45},{address:I.Keypair.generate().publicKey,game:te.publicKey,name:"Chestpiece",description:"Just a chestpiece",image:Ye,price:10.2},{address:I.Keypair.generate().publicKey,game:te.publicKey,name:"Blade",description:"Looks like a weapon, but I'm not sure",image:$e,price:3},{address:I.Keypair.generate().publicKey,game:te.publicKey,name:"Chestpiece",description:"Just a chestpiece",image:Ye,price:10.2},{address:I.Keypair.generate().publicKey,game:te.publicKey,name:"Bow and arrows",description:"Classic",image:et,price:5.45}],nt={inProgress:[],loaded:Object(X.a)(tt),failed:[]},at=Object(V.c)({name:"itemsNftStore",initialState:nt,reducers:{},extraReducers:function(e){}}),rt=at.reducer,ct=function(e,t,n){var a,r,c,i,s,o,u,l,d,m,p,f=t[e];if(!f)return Object(pe.jsx)(pe.Fragment,{});switch(f.status){case"failed":l="<failed>",d="<failed>",m=0;break;default:l="",d="",m=0;break;case"loaded":l=null===(a=f.item)||void 0===a?void 0:a.image,d=null===(r=f.item)||void 0===r?void 0:r.name,m=null===(c=f.item)||void 0===c?void 0:c.price;var b=null===(i=f.item)||void 0===i?void 0:i.game.toString();p=b?null===(s=n[b])||void 0===s?void 0:s.game:void 0}return Object(pe.jsx)(Ve,{image:l,itemName:d,gameName:null!==(o=null===(u=p)||void 0===u?void 0:u.title)&&void 0!==o?o:"",price:m.toString()})},it=(n(1183),function(e){var t=e.gamesInLibraryIds,n=e.gamesData,a=e.setSelected;return Object(pe.jsx)("div",{className:"gamesList",children:t.map((function(e,t){var r,c,i=null!==(r=n[e])&&void 0!==r?r:{status:"inProgress"},s="loaded"===i.status;return Object(pe.jsx)(ze,{disabled:!1,loading:"inProgress"===i.status,loadingFailed:"failed"===i.status,image:s?null===(c=i.game)||void 0===c?void 0:c.cover:void 0,isAdded:!0,onAdd:function(){},onLaunch:function(){var e,t,n;s&&(null===(e=window)||void 0===e||null===(t=e.open(null===(n=i.game)||void 0===n?void 0:n.launchUrl,"_blank"))||void 0===t||t.focus())},onClick:function(){a(e)}})}))})}),st="/gamesStore",ot=[{path:"/gamesStore",name:"Games Store",component:function(){var e,t,n,a,c,i=Object(r.useState)(""),s=Object(y.a)(i,2),o=s[0],l=s[1],d=Object(W.c)((function(e){return e.gamesStorePage.gamesInCatalog})),m=Object(W.c)((function(e){return e.libraryPage.gamesInLibrary})),p=Object(W.c)((function(e){return e.gamesStorePage.isCatalogFetched})),f=Object(W.c)((function(e){return e.libraryPage.isLibraryFetched})),b=Object(W.c)((function(e){return e.gamesStorePage.friendsPlay})),g=Object(W.c)((function(e){return e.gamesStorePage.suggestedForYou})),j=Object(W.c)((function(e){return e.gamesStorePage.bannerGames})),v=Object(W.c)((function(e){return de(e,[].concat(Object(X.a)(d),[b,g],Object(X.a)(j)))})),h=Object(W.b)(),O=Object(u.d)(),x=z(),k=U("https://api.devnet.solana.com",!0);return Object(r.useEffect)((function(){k&&!p&&h(Ee(k))}),[k,h,d,p]),Object(r.useEffect)((function(){x&&!f&&O&&O.connected&&h(ke({player:O.publicKey,program:x}))}),[x,h,m,f,O]),Object(pe.jsx)(pe.Fragment,{children:Object(pe.jsxs)("div",{className:"GamesStoreWrapper",children:[Object(pe.jsx)("div",{className:"decor-1"}),Object(pe.jsx)("div",{className:"decor-2"}),Object(pe.jsxs)("div",{className:"bannerWrapper",children:[Object(pe.jsxs)("div",{className:"bannerLeftSideWrapper",children:[Object(pe.jsx)(be.Carousel,{className:"Carousel",showStatus:!1,showIndicators:!1,showThumbs:!1,autoPlay:!0,children:j.map((function(e,t){var n,a,r=null!==(n=v[e])&&void 0!==n?n:{cover:""};return Object(pe.jsx)("div",{className:"slide",style:{background:"url(".concat(null===(a=r.game)||void 0===a?void 0:a.cover,")")}},t)}))}),Object(pe.jsx)(he,{})]}),Object(pe.jsxs)("div",{className:"suggestedContainer",children:[Object(pe.jsx)("div",{className:"suggested-firs--container",children:Object(pe.jsx)("div",{className:"decor-bottom",children:Object(pe.jsx)("div",{className:"suggested-second-wrapper",children:Object(pe.jsx)("div",{className:"suggested-first",style:{background:"url(".concat(null===(e=v[b])||void 0===e||null===(t=e.game)||void 0===t?void 0:t.cover,")")},onClick:O.connected?function(){return l(b)}:void 0,children:Object(pe.jsx)("div",{className:"label",children:"Friends play"})})})})}),Object(pe.jsx)("div",{className:"suggested-second--container",children:Object(pe.jsx)("div",{className:"suggested-second",style:{background:"url(".concat(null===(n=v[g])||void 0===n||null===(a=n.game)||void 0===a?void 0:a.cover,")")},onClick:O.connected?function(){return l(g)}:void 0,children:Object(pe.jsx)("div",{className:"label",children:"Suggested for you"})})}),Object(pe.jsx)(we,{visibility:""!==o,game:null===(c=v[o])||void 0===c?void 0:c.game,handleClose:function(){l("")},isAdded:-1!==m.indexOf(o)})]})]}),Object(pe.jsx)(Ue,{gamesInCatalogIds:d,gamesInLibraryIds:m,isDisabled:!O.connected,gamesData:v,setSelected:l}),O.connected&&Object(pe.jsx)("div",{style:{textAlign:"center",width:"100%",padding:"40px 0px"},children:Object(pe.jsx)(qe,{})}),Object(pe.jsx)("div",{style:{height:"100px"}})]})})}},{path:"/inventory",name:"Inventory",component:function(){var e,t=Object(W.c)((function(e){return e.inventoryPage.itemsByGames})),n=(e=[]).concat.apply(e,Object(X.a)(t.map((function(e){return e.items})))),a=Object(W.c)((function(e){return e.libraryPage.gamesInLibrary})),r=Object(W.c)((function(e){return function(e,t){var n=function(e){return e.itemsNftStore}(e),a=n.inProgress.filter((function(e){return t.find((function(t){return t===e}))})),r=n.loaded.filter((function(e){return t.find((function(t){return t===e.address.toString()}))})),c=n.failed.filter((function(e){return t.find((function(t){return t===e}))})),i={};return a.forEach((function(e){return i[e.toString()]={status:"inProgress"}})),r.forEach((function(e){return i[e.address.toString()]={status:"loaded",item:e}})),c.forEach((function(e){return i[e.toString()]={status:"failed"}})),i}(e,n)})),c=Object(W.c)((function(e){return de(e,a)})),i=[].concat(Object(X.a)(a),[te.publicKey.toString()]);return Object(pe.jsxs)("div",{className:"inventoryWrapper",children:[Object(pe.jsx)("div",{className:"gameCategoryDivider",children:Object(pe.jsx)(xe.a,{className:"deviderText",children:"All items"})}),Object(pe.jsx)("div",{className:"inventoryBlock",children:n.map((function(e){return ct(e,r,c)}))}),i.map((function(e){var a,i,s,o,u=null===(a=c[e])||void 0===a?void 0:a.game,l=null!==(i=null===(s=t.find((function(t){return t.gameId===e})))||void 0===s?void 0:s.items)&&void 0!==i?i:[];return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("div",{className:"gameCategoryDivider",children:Object(pe.jsxs)(xe.a,{className:"deviderText",children:["Items from game \u201c",null!==(o=null===u||void 0===u?void 0:u.title)&&void 0!==o?o:"","\u201d"]})}),Object(pe.jsx)("div",{className:"inventoryBlock",children:l.length>0?Object(pe.jsx)(pe.Fragment,{children:n.map((function(e){return ct(e,r,c)}))}):Object(pe.jsx)(pe.Fragment,{children:"No items so far"})})]})}))]})}},{path:"/library",name:"Library",component:function(){var e,t=Object(r.useState)(""),n=Object(y.a)(t,2),a=n[0],c=n[1],i=Object(W.c)((function(e){return e.libraryPage.gamesInLibrary})),s=Object(W.c)((function(e){return e.libraryPage.isLibraryFetched})),o=Object(W.c)((function(e){return de(e,i)})),l=Object(W.b)(),d=Object(u.d)(),m=z();return Object(r.useEffect)((function(){m&&!s&&d&&d.connected&&l(ke({player:d.publicKey,program:m}))}),[m,l,i,s,d]),Object(pe.jsxs)("div",{className:"libraryWrapper",children:[Object(pe.jsx)("div",{className:"libraryHeader",children:Object(pe.jsx)(g.a,{className:"libraryHeaderText",children:"My games"})}),Object(pe.jsx)(it,{gamesInLibraryIds:i,gamesData:o,setSelected:c}),Object(pe.jsx)(we,{visibility:""!==a,game:null===(e=o[a])||void 0===e?void 0:e.game,handleClose:function(){c("")},isAdded:-1!==i.indexOf(a)})]})}},{path:"/marketplace",name:"Marketplace",component:function(){return Object(pe.jsx)("div",{children:Object(pe.jsx)(g.a,{variant:"h3",children:" Comming soon... "})})}}],ut=(n(1184),function(e){var t=e.pages,n=Object(d.l)().pathname,a=Object(u.d)();return Object(pe.jsxs)("div",{className:"NavigationPanelWrapper",children:[Object(pe.jsx)(f.a,{orientation:"vertical",variant:"fullWidth",value:n,textColor:"primary",classes:{indicator:"myIndicator"},style:{width:"100%"},children:t.map((function(e,t){return Object(pe.jsx)(b.a,{disabled:!a.connected&&e.path!=st,disableRipple:!0,label:Object(pe.jsx)(g.a,{variant:"body1",children:e.name}),value:e.path,to:e.path,component:m.Link},t)}))}),Object(pe.jsxs)("div",{className:"bottomContainer",children:[Object(pe.jsx)("div",{className:"decor-1",children:" "}),Object(pe.jsx)(fe,{}),Object(pe.jsxs)("div",{className:"contactUsContainer",children:[Object(pe.jsx)(g.a,{variant:"body1",children:"Contact us"}),Object(pe.jsx)("a",{href:"https://t.me/joinchat/MFpIhiHJoWMyYjAy",target:"_blank",children:Object(pe.jsx)("img",{className:"icon",src:j,alt:"telegram icon"})}),Object(pe.jsx)("a",{href:"https://discord.gg/eEa3kqZU",target:"_blank",children:Object(pe.jsx)("img",{className:"icon",src:v,alt:"discord icon"})})]})]})]})}),lt=n.p+"static/media/logo.f4e43637.svg",dt=n.p+"static/media/settingsIcon.a380210e.svg",mt=(n(1185),n(1299)),pt=n(1288),ft=n(1293),bt=function(){return Object(pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"8",viewBox:"0 0 8 8",fill:"none",children:Object(pe.jsx)("path",{d:"M0.20001 5.86285L0.25001 7.21143L2.10001 5.38285C3.12001 4.36571 3.98001 3.54285 4.02001 3.54285C4.06001 3.54285 4.91001 4.36571 5.92001 5.37143C6.93001 6.37714 7.77001 7.2 7.80001 7.2C7.83001 7.2 7.83001 6.56 7.80001 5.77143L7.75001 4.34285L5.90001 2.51428C4.89001 1.50857 4.03001 0.685711 4.00001 0.685711C3.94001 0.685711 0.41001 4.16 0.25001 4.37714C0.19001 4.45714 0.17001 5.04 0.20001 5.86285Z",fill:"white"})})},gt=function(){var e=c.a.useState("EN"),t=Object(y.a)(e,2),n=t[0],a=t[1];Object(u.d)();return Object(pe.jsx)("div",{children:Object(pe.jsxs)("div",{className:"HeaderWrapper",children:[Object(pe.jsx)(m.Link,{to:st,children:Object(pe.jsx)("img",{src:lt,alt:"logo"})}),Object(pe.jsxs)("div",{className:"HeaderRight",children:[Object(pe.jsx)(mt.a,{fullWidth:!0,children:Object(pe.jsx)(pt.a,{autoWidth:!0,id:"demo-simple-select",displayEmpty:!1,value:n,onChange:function(e){a(e.target.value)},defaultValue:"EN",variant:"standard",IconComponent:bt,children:Object(pe.jsx)(ft.a,{value:"EN",children:Object(pe.jsx)(xe.a,{variant:"body1",children:"EN"})})})}),Object(pe.jsx)("div",{className:"settingButtons",children:Object(pe.jsx)("img",{src:dt,alt:"settingsIcon"})}),Object(pe.jsx)(xe.a,{children:"[Devnet]"}),Object(pe.jsx)("div",{className:"connectWallerButton",children:Object(pe.jsx)(l.b,{})})]})]})})},jt=n(1284),vt=n(631),ht=n(1283),Ot=[Object(o.a)()],xt=function(e){var t=e.pages;return Object(pe.jsxs)(d.g,{children:[t.map((function(e){return Object(pe.jsx)(d.d,{path:e.path,exact:!0,component:e.component},e.path)})),Object(pe.jsx)(d.d,{exact:!0,path:"/",children:Object(pe.jsx)(d.c,{to:"/gamesStore"})})]})},yt=Object(vt.a)({palette:{primary:{main:"#ffffff",contrastText:"#ffffff"},secondary:{main:"#ffffff",contrastText:"#ffffff"},background:{default:"#161616"},text:{primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 1)",disabled:"rgba(255, 255, 255, 0.33)"}},typography:{fontFamily:"Ubuntu",body1:{fontSize:16},caption:{color:"#000000",fontSize:16}}});function kt(){return Object(pe.jsxs)(ht.a,{theme:yt,children:[Object(pe.jsx)(jt.a,{}),Object(pe.jsx)("div",{className:"App",children:Object(pe.jsxs)(m.HashRouter,{basename:"".concat("/Asylum"),children:[Object(pe.jsx)(p.a,{container:!0,columns:1,children:Object(pe.jsx)(p.a,{item:!0,xs:1,children:Object(pe.jsx)(gt,{})})}),Object(pe.jsxs)(p.a,{container:!0,spacing:2,columns:5,children:[Object(pe.jsx)(p.a,{item:!0,xs:1,children:Object(pe.jsx)(ut,{pages:ot})}),Object(pe.jsx)(p.a,{item:!0,xs:4,children:Object(pe.jsx)("div",{className:"contentWrapper",children:Object(pe.jsx)(xt,{pages:ot})})})]})]})})]})}var wt=function(){return Object(pe.jsx)(u.a,{endpoint:"http://127.0.0.1:8899",children:Object(pe.jsx)(u.b,{wallets:Ot,autoConnect:!0,children:Object(pe.jsx)(l.a,{children:Object(pe.jsx)(kt,{})})})})},Nt=Object(V.c)({name:"accountPage",initialState:{},reducers:{},extraReducers:function(e){}}).reducer,_t={gamesInCatalog:[],isCatalogFetched:!1,friendsPlay:te.publicKey.toString(),suggestedForYou:ne.publicKey.toString(),bannerGames:ae.map((function(e){return e.publicKey.toString()}))},Pt=Object(V.c)({name:"gamesStorePage",initialState:_t,reducers:{},extraReducers:function(e){e.addCase(Ge.fulfilled,(function(e,t){var n=new Set(e.gamesInCatalog);t.payload.forEach((function(e){return n.add(e.toString())})),e.isCatalogFetched=!0,e.gamesInCatalog=Object(X.a)(n)})),e.addCase(Ge.rejected,(function(e,t){e.isCatalogFetched=!1}))}}).reducer,St={itemsByGames:[{gameId:te.publicKey.toString(),items:tt.map((function(e){return e.address.toString()}))}]},It=Object(V.c)({name:"inventoryPage",initialState:St,reducers:{},extraReducers:function(e){}}).reducer,At=Object(V.c)({name:"libraryPage",initialState:{gamesInLibrary:[],isLibraryFetched:!1},reducers:{},extraReducers:function(e){e.addCase(ye.fulfilled,(function(e,t){var n=new Set;t.payload.forEach((function(e){return n.add(e.toString())})),e.gamesInLibrary=Object(X.a)(n),e.isLibraryFetched=!0})),e.addCase(ye.rejected,(function(e,t){e.isLibraryFetched=!1}))}}).reducer,Ct=Object(V.c)({name:"marketplacePage",initialState:{},reducers:{},extraReducers:function(e){}}).reducer,Kt=Object(V.a)({reducer:{accountPage:Nt,gamesStorePage:Pt,inventoryPage:It,libraryPage:At,marketplacePage:Ct,gamesNftStore:me,itemsNftStore:rt}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(pe.jsx)(c.a.StrictMode,{children:Object(pe.jsx)(W.a,{store:Kt,children:Object(pe.jsx)(wt,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},306:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"findAchievementsAccountAddress",(function(){return u})),n.d(t,"findGamesCatalogAccountAddress",(function(){return l})),n.d(t,"initAsylumAccounts",(function(){return d})),n.d(t,"initAchievementsAccount",(function(){return m})),n.d(t,"addAchievement",(function(){return p})),n.d(t,"initGamesCatalogAccount",(function(){return f})),n.d(t,"addGameToCatalog",(function(){return b}));var a=n(17),r=n(5),c=n.n(r),i=n(11),s=n(10),o=n(120),u=function(t){return s.PublicKey.findProgramAddress([e.from("Achievements")],t)},l=function(t){return s.PublicKey.findProgramAddress([e.from("GamesCatalog")],t)},d=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([m(t),f(t)]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,i,s,l,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.provider.wallet.publicKey,r=t.programId,e.next=4,u(r);case 4:return i=e.sent,s=Object(a.a)(i,2),l=s[0],d=s[1],e.next=10,t.rpc.initializeAchievements(d,{accounts:{achievementsAccount:l,user:n,systemProgram:o.d.SystemProgram.programId}});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(i.a)(c.a.mark((function e(t,n,r,i){var s,o,l,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.programId,e.next=3,u(s);case 3:return o=e.sent,l=Object(a.a)(o,2),d=l[0],l[1],e.next=9,t.rpc.addAchievement(n,r,i,{accounts:{achievementsAccount:d}});case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,i,s,u,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.provider.wallet.publicKey,r=t.programId,e.next=4,l(r);case 4:return i=e.sent,s=Object(a.a)(i,2),u=s[0],d=s[1],e.next=10,t.rpc.initializeGamesCatalog(d,{accounts:{gamesCatalogAccount:u,user:n,systemProgram:o.d.SystemProgram.programId}});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,i,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.programId,e.next=3,l(r);case 3:return i=e.sent,s=Object(a.a)(i,2),o=s[0],s[1],e.next=9,t.rpc.addGameToCatalog(n,{accounts:{gamesCatalogAccount:o}});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}.call(this,n(25).Buffer)},431:function(e){e.exports=JSON.parse('{"version":"0.0.0","name":"players","instructions":[{"name":"initialize","accounts":[{"name":"playerAccount","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"bump","type":"u8"},{"name":"nickname","type":"string"},{"name":"avatar","type":"publicKey"}]},{"name":"updateNickname","accounts":[{"name":"playerAccount","isMut":true,"isSigner":false}],"args":[{"name":"nickname","type":"string"}]},{"name":"updateAvatar","accounts":[{"name":"playerAccount","isMut":true,"isSigner":false}],"args":[{"name":"avatar","type":"publicKey"}]},{"name":"addGame","accounts":[{"name":"playerAccount","isMut":true,"isSigner":false}],"args":[{"name":"game","type":"publicKey"}]},{"name":"removeGame","accounts":[{"name":"playerAccount","isMut":true,"isSigner":false}],"args":[{"name":"game","type":"publicKey"}]},{"name":"addAchievement","accounts":[{"name":"playerAccount","isMut":true,"isSigner":false}],"args":[{"name":"achievementId","type":"u16"},{"name":"expToAdd","type":"u32"}]},{"name":"addExp","accounts":[{"name":"playerAccount","isMut":true,"isSigner":false}],"args":[{"name":"exp","type":"u32"}]}],"accounts":[{"name":"PlayerAccount","type":{"kind":"struct","fields":[{"name":"nickname","type":"string"},{"name":"avatar","type":"publicKey"},{"name":"games","type":{"vec":"publicKey"}},{"name":"level","type":"u8"},{"name":"exp","type":"u32"},{"name":"achievements","type":{"vec":"u16"}}]}}],"metadata":{"address":"9acXdXcHNvgNiy5J62B5mt2gyZuMQ1fBYaqtdnHcjGkj"}}')},432:function(e){e.exports=JSON.parse('{"version":"0.0.0","name":"asylum","instructions":[{"name":"initialize","accounts":[{"name":"mainAccount","isMut":true,"isSigner":true},{"name":"user","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"initializeAchievements","accounts":[{"name":"achievementsAccount","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"bump","type":"u8"}]},{"name":"addAchievement","accounts":[{"name":"achievementsAccount","isMut":true,"isSigner":false}],"args":[{"name":"label","type":"string"},{"name":"description","type":"string"},{"name":"game","type":"publicKey"}]},{"name":"initializeGamesCatalog","accounts":[{"name":"gamesCatalogAccount","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"bump","type":"u8"}]},{"name":"addGameToCatalog","accounts":[{"name":"gamesCatalogAccount","isMut":true,"isSigner":false}],"args":[{"name":"game","type":"publicKey"}]}],"accounts":[{"name":"AsylumMainAccount","type":{"kind":"struct","fields":[]}},{"name":"GamesCatalogAccount","type":{"kind":"struct","fields":[{"name":"games","type":{"vec":"publicKey"}}]}},{"name":"AchievementsAccount","type":{"kind":"struct","fields":[{"name":"achievements","type":{"vec":{"defined":"Achievement"}}}]}}],"types":[{"name":"Achievement","type":{"kind":"struct","fields":[{"name":"id","type":"u16"},{"name":"label","type":"string"},{"name":"description","type":"string"},{"name":"game","type":"publicKey"}]}}],"metadata":{"address":"Ec5HRTfsozgfQerig5DTsKqGL3MkZ3jcdohb3qYXwzMN"}}')},564:function(e,t,n){},659:function(e,t,n){},660:function(e,t,n){},661:function(e,t){},663:function(e,t){},679:function(e,t){},680:function(e,t){},736:function(e,t){},738:function(e,t){},751:function(e,t){},755:function(e,t){},757:function(e,t){},767:function(e,t){},769:function(e,t){},796:function(e,t){},798:function(e,t){},803:function(e,t){},805:function(e,t){},812:function(e,t){},824:function(e,t){},827:function(e,t){},834:function(e,t){},836:function(e,t,n){},970:function(e,t,n){},972:function(e,t,n){},973:function(e,t,n){}},[[1186,1,2]]]);
//# sourceMappingURL=main.5a3ebf55.chunk.js.map